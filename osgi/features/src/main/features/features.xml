<?xml version="1.0" encoding="UTF-8"?>

<features name="mule" xmlns="http://karaf.apache.org/xmlns/features/v1.0.0">

    <feature name="mule-logging" start-level="4" version="${project.version}">
        <bundle>mvn:com.lmax/disruptor/3.3.0/jar</bundle>
        <bundle>mvn:org.slf4j/slf4j-api/1.7.7/jar</bundle>
        <bundle>mvn:org.slf4j/jcl-over-slf4j/1.7.7/jar</bundle>
        <bundle>mvn:org.apache.logging.log4j/log4j-api/2.2/jar</bundle>
        <bundle>mvn:org.apache.logging.log4j/log4j-core/2.2/jar</bundle>
        <bundle>mvn:org.apache.logging.log4j/log4j-1.2-api/2.2/jar</bundle>
        <bundle>mvn:org.apache.logging.log4j/log4j-slf4j-impl/2.2/jar</bundle>
        <bundle>mvn:org.apache.logging.log4j/log4j-jcl/2.2/jar</bundle>
        <bundle>mvn:org.apache.logging.log4j/log4j-jul/2.2/jar</bundle>
        <bundle>mvn:commons-logging/commons-logging/1.2/jar</bundle>
    </feature>

    <feature name="mule-common" version="${project.version}">
        <bundle>wrap:mvn:org.mule.common/mule-common/4.0-SNAPSHOT/jar</bundle>
        <bundle>wrap:mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.xmlbeans/2.4.0_5/jar</bundle>
        <bundle>mvn:com.fasterxml.jackson.core/jackson-core/2.4.3/jar</bundle>
        <bundle>mvn:com.fasterxml.jackson.core/jackson-annotations/2.4.3/jar</bundle>
        <bundle>mvn:com.fasterxml.jackson.core/jackson-databind/2.4.3/jar</bundle>
        <bundle>wrap:mvn:org.antlr/antlr-runtime/3.5/jar</bundle>
        <bundle>wrap:mvn:org.antlr/stringtemplate/3.2.1/jar</bundle>
        <bundle>wrap:mvn:commons-io/commons-io/2.4/jar</bundle>
        <bundle>wrap:mvn:org.json/json/20140107/jar</bundle>
    </feature>

    <feature name="mule-core" version="${project.version}">
        <feature>mule-logging</feature>
        <feature>mule-common</feature>
        <bundle>mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.javax-inject/1_2/jar</bundle>
        <bundle>mvn:org.apache.geronimo.specs/geronimo-jta_1.1_spec/1.1.1/jar</bundle>
        <bundle>mvn:org.apache.geronimo.specs/geronimo-j2ee-connector_1.5_spec/2.0.0/jar</bundle>
        <bundle>mvn:com.github.stephenc.eaio-uuid/uuid/3.4.0-osgi/jar</bundle>
        <bundle>mvn:com.google.guava/guava/18.0/jar</bundle>
        <bundle>wrap:mvn:commons-collections/commons-collections/3.2.1/jar</bundle>
        <bundle>wrap:mvn:commons-beanutils/commons-beanutils/1.8.0/jar</bundle>
        <bundle>wrap:mvn:commons-cli/commons-cli/1.2/jar</bundle>
        <bundle>wrap:mvn:commons-lang/commons-lang/2.4/jar</bundle>
        <bundle>wrap:mvn:commons-pool/commons-pool/1.6/jar</bundle>
        <bundle>wrap:mvn:org.jgrapht/jgrapht-jdk1.5/0.7.3/jar</bundle>
        <bundle>wrap:mvn:org.mule/mule-api/1.0.0-SNAPSHOT/jar</bundle>
        <bundle>wrap:mvn:org.mule.extensions/mule-extensions-api/1.0.0-SNAPSHOT/jar</bundle>
        <bundle>wrap:mvn:org.reflections/reflections/0.9.9/jar</bundle>
        <bundle>wrap:mvn:org.mule.mvel/mule-mvel2/2.1.9-MULE-007/jar</bundle>
        <bundle>wrap:mvn:commons-beanutils/commons-beanutils/1.9.2/jar</bundle>
        <bundle>mvn:org.mule/mule-core/4.0-SNAPSHOT/jar</bundle>
    </feature>

    <feature name="mule-spring-config" version="${project.version}">
        <feature>mule-core</feature>
        <bundle>mvn:org.eclipse.gemini.blueprint/gemini-blueprint-extender/2.0.0.BUILD-SNAPSHOT/jar</bundle>
        <bundle>mvn:org.eclipse.gemini.blueprint/gemini-blueprint-core/2.0.0.BUILD-SNAPSHOT/jar</bundle>
        <bundle>mvn:org.eclipse.gemini.blueprint/gemini-blueprint-io/2.0.0.BUILD-SNAPSHOT/jar</bundle>
        <bundle>wrap:mvn:dom4j/dom4j/1.6.1/jar</bundle>
        <bundle>mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.cglib/2.2_2/jar</bundle>
        <bundle>mvn:org.mule.modules/mule-module-spring-config/4.0-SNAPSHOT/jar</bundle>
        <feature>spring</feature>
    </feature>

    <feature name="mule-extension-api" version="${project.version}">
        <feature>mule-core</feature>
        <feature>mule-spring-config</feature>
        <bundle>wrap:mvn:org.mule.extensions/mule-extensions-annotations/1.0.0-SNAPSHOT/jar</bundle>
        <bundle>mvn:org.mule.modules/mule-module-extensions-support/4.0-SNAPSHOT/jar</bundle>
        <bundle>mvn:org.mule.modules/mule-module-extensions-spring-support/4.0-SNAPSHOT/jar</bundle>
    </feature>

    <feature name="mule-extension-validation" version="${project.version}">
        <feature>mule-extension-api</feature>
        <bundle>wrap:mvn:commons-digester/commons-digester/1.8/jar</bundle>
        <bundle>mvn:commons-validator/commons-validator/1.4.0/jar</bundle>
        <bundle>mvn:org.mule.modules/mule-module-validation/4.0-SNAPSHOT/jar</bundle>
    </feature>

    <feature name="mule-http-connector" version="${project.version}">
        <feature>mule-core</feature>
        <feature>mule-spring-config</feature>

        <!--  Grizzly -->
        <bundle>wrap:mvn:javax.servlet/javax.servlet-api/3.1.0/jar</bundle>
        <bundle>mvn:org.glassfish.grizzly/grizzly-framework/2.3.21/jar</bundle>
        <bundle>mvn:org.glassfish.grizzly/grizzly-http/2.3.21/jar</bundle>
        <bundle>mvn:org.glassfish.grizzly/connection-pool/2.3.21/jar</bundle>
        <bundle>mvn:org.glassfish.grizzly/grizzly-websockets/2.3.21/jar</bundle>
        <bundle>mvn:org.glassfish.grizzly/grizzly-http-servlet/2.3.21/jar</bundle>
        <bundle>mvn:org.glassfish.grizzly/grizzly-http-server/2.3.21/jar</bundle>

        <!-- Transport -->
        <bundle>wrap:mvn:commons-codec/commons-codec/1.9/jar</bundle>
        <bundle>wrap:mvn:org.mule.transports/mule-transport-ssl/4.0-SNAPSHOT/jar</bundle>
        <bundle>wrap:mvn:org.mule.transports/mule-transport-tcp/4.0-SNAPSHOT/jar</bundle>
        <bundle>wrap:mvn:com.ning/async-http-client/1.9.31/jar</bundle>
        <bundle>wrap:mvn:javax.mail/mail/1.4.3/jar</bundle>

        <bundle>mvn:org.mule.modules/mule-module-http/4.0-SNAPSHOT/jar</bundle>
    </feature>

    <feature name="mule-full" version="${project.version}">
        <feature>mule-http-connector</feature>
        <feature>mule-extension-validation</feature>
        <bundle>mvn:org.mule.osgi/mule-osgi-support/4.0-SNAPSHOT/jar</bundle>
        <bundle>mvn:org.mule.osgi/mule-osgi-app-support/4.0-SNAPSHOT/jar</bundle>
    </feature>
</features>
